
double sine_table[];

/** Angle a is given as an integer from 0-255,
 * which maps to evenly distributed values from 0 to 2pi.
 */
double fixed_sin(unsigned char a) {
    return sine_table[a];
}

/** Angle a is given as an integer from 0-255,
 * which maps to evenly distributed values from 0 to 2pi.
 */
double fixed_cos(unsigned char a) {
    // cos(a) = sin(PI/2 - a).
    // PI/2 is 1/4 of a circle, so 256/4 = 64.
    int a2 = 64 - a;
    while(a2 < 0) {
        a2 += 256;
    }
    return fixed_sin(a2);
}

// Generated by tools.js.
double sine_table[256] = {
0, // 0
0.024541228522912288, // 1
0.049067674327418015, // 2
0.07356456359966743, // 3
0.0980171403295606, // 4
0.1224106751992162, // 5
0.14673047445536175, // 6
0.17096188876030122, // 7
0.19509032201612825, // 8
0.2191012401568698, // 9
0.24298017990326387, // 10
0.26671275747489837, // 11
0.29028467725446233, // 12
0.3136817403988915, // 13
0.33688985339222005, // 14
0.3598950365349881, // 15
0.3826834323650898, // 16
0.40524131400498986, // 17
0.4275550934302821, // 18
0.44961132965460654, // 19
0.47139673682599764, // 20
0.49289819222978404, // 21
0.5141027441932217, // 22
0.5349976198870972, // 23
0.5555702330196022, // 24
0.5758081914178453, // 25
0.5956993044924334, // 26
0.6152315905806268, // 27
0.6343932841636455, // 28
0.6531728429537768, // 29
0.6715589548470183, // 30
0.6895405447370668, // 31
0.7071067811865475, // 32
0.7242470829514669, // 33
0.7409511253549591, // 34
0.7572088465064846, // 35
0.7730104533627369, // 36
0.7883464276266062, // 37
0.8032075314806448, // 38
0.8175848131515837, // 39
0.8314696123025452, // 40
0.844853565249707, // 41
0.8577286100002721, // 42
0.8700869911087113, // 43
0.8819212643483549, // 44
0.8932243011955153, // 45
0.9039892931234433, // 46
0.9142097557035307, // 47
0.9238795325112867, // 48
0.9329927988347388, // 49
0.9415440651830208, // 50
0.9495281805930367, // 51
0.9569403357322089, // 52
0.9637760657954398, // 53
0.970031253194544, // 54
0.9757021300385286, // 55
0.9807852804032304, // 56
0.9852776423889412, // 57
0.989176509964781, // 58
0.99247953459871, // 59
0.9951847266721968, // 60
0.9972904566786902, // 61
0.9987954562051724, // 62
0.9996988186962042, // 63
1, // 64
0.9996988186962042, // 65
0.9987954562051724, // 66
0.9972904566786902, // 67
0.9951847266721969, // 68
0.99247953459871, // 69
0.989176509964781, // 70
0.9852776423889412, // 71
0.9807852804032304, // 72
0.9757021300385286, // 73
0.970031253194544, // 74
0.9637760657954398, // 75
0.9569403357322089, // 76
0.9495281805930367, // 77
0.9415440651830208, // 78
0.9329927988347388, // 79
0.9238795325112867, // 80
0.9142097557035307, // 81
0.9039892931234434, // 82
0.8932243011955152, // 83
0.881921264348355, // 84
0.8700869911087115, // 85
0.8577286100002721, // 86
0.8448535652497072, // 87
0.8314696123025453, // 88
0.8175848131515837, // 89
0.8032075314806449, // 90
0.7883464276266063, // 91
0.7730104533627371, // 92
0.7572088465064847, // 93
0.740951125354959, // 94
0.7242470829514669, // 95
0.7071067811865476, // 96
0.689540544737067, // 97
0.6715589548470186, // 98
0.6531728429537766, // 99
0.6343932841636455, // 100
0.6152315905806269, // 101
0.5956993044924335, // 102
0.5758081914178454, // 103
0.5555702330196022, // 104
0.5349976198870972, // 105
0.5141027441932218, // 106
0.49289819222978415, // 107
0.47139673682599786, // 108
0.4496113296546069, // 109
0.42755509343028203, // 110
0.4052413140049899, // 111
0.3826834323650899, // 112
0.35989503653498833, // 113
0.33688985339222033, // 114
0.3136817403988914, // 115
0.2902846772544624, // 116
0.2667127574748985, // 117
0.24298017990326407, // 118
0.21910124015687005, // 119
0.1950903220161286, // 120
0.17096188876030122, // 121
0.1467304744553618, // 122
0.12241067519921635, // 123
0.09801714032956083, // 124
0.07356456359966773, // 125
0.049067674327417966, // 126
0.024541228522912326, // 127
1.2246467991473532e-16, // 128
-0.02454122852291208, // 129
-0.049067674327417724, // 130
-0.0735645635996675, // 131
-0.09801714032956059, // 132
-0.1224106751992161, // 133
-0.14673047445536158, // 134
-0.17096188876030097, // 135
-0.19509032201612836, // 136
-0.2191012401568698, // 137
-0.24298017990326382, // 138
-0.26671275747489825, // 139
-0.2902846772544621, // 140
-0.3136817403988912, // 141
-0.33688985339222005, // 142
-0.3598950365349881, // 143
-0.38268343236508967, // 144
-0.4052413140049897, // 145
-0.4275550934302818, // 146
-0.44961132965460665, // 147
-0.47139673682599764, // 148
-0.4928981922297839, // 149
-0.5141027441932216, // 150
-0.5349976198870969, // 151
-0.555570233019602, // 152
-0.5758081914178453, // 153
-0.5956993044924332, // 154
-0.6152315905806267, // 155
-0.6343932841636453, // 156
-0.6531728429537765, // 157
-0.6715589548470184, // 158
-0.6895405447370668, // 159
-0.7071067811865475, // 160
-0.7242470829514668, // 161
-0.7409511253549589, // 162
-0.7572088465064842, // 163
-0.7730104533627367, // 164
-0.7883464276266059, // 165
-0.803207531480645, // 166
-0.8175848131515838, // 167
-0.8314696123025452, // 168
-0.8448535652497071, // 169
-0.857728610000272, // 170
-0.8700869911087113, // 171
-0.8819212643483549, // 172
-0.8932243011955152, // 173
-0.9039892931234431, // 174
-0.9142097557035305, // 175
-0.9238795325112865, // 176
-0.932992798834739, // 177
-0.9415440651830208, // 178
-0.9495281805930367, // 179
-0.9569403357322088, // 180
-0.9637760657954398, // 181
-0.970031253194544, // 182
-0.9757021300385285, // 183
-0.9807852804032303, // 184
-0.9852776423889411, // 185
-0.9891765099647809, // 186
-0.9924795345987101, // 187
-0.9951847266721969, // 188
-0.9972904566786902, // 189
-0.9987954562051724, // 190
-0.9996988186962042, // 191
-1, // 192
-0.9996988186962042, // 193
-0.9987954562051724, // 194
-0.9972904566786902, // 195
-0.9951847266721969, // 196
-0.9924795345987101, // 197
-0.9891765099647809, // 198
-0.9852776423889412, // 199
-0.9807852804032304, // 200
-0.9757021300385286, // 201
-0.970031253194544, // 202
-0.96377606579544, // 203
-0.9569403357322089, // 204
-0.9495281805930368, // 205
-0.9415440651830209, // 206
-0.9329927988347391, // 207
-0.9238795325112866, // 208
-0.9142097557035306, // 209
-0.9039892931234433, // 210
-0.8932243011955153, // 211
-0.881921264348355, // 212
-0.8700869911087115, // 213
-0.8577286100002722, // 214
-0.8448535652497072, // 215
-0.8314696123025455, // 216
-0.8175848131515839, // 217
-0.8032075314806453, // 218
-0.7883464276266061, // 219
-0.7730104533627369, // 220
-0.7572088465064846, // 221
-0.7409511253549591, // 222
-0.724247082951467, // 223
-0.7071067811865477, // 224
-0.6895405447370672, // 225
-0.6715589548470187, // 226
-0.6531728429537771, // 227
-0.6343932841636459, // 228
-0.6152315905806274, // 229
-0.5956993044924332, // 230
-0.5758081914178452, // 231
-0.5555702330196022, // 232
-0.5349976198870973, // 233
-0.5141027441932219, // 234
-0.49289819222978426, // 235
-0.4713967368259979, // 236
-0.449611329654607, // 237
-0.42755509343028253, // 238
-0.4052413140049904, // 239
-0.3826834323650904, // 240
-0.359895036534988, // 241
-0.33688985339222, // 242
-0.3136817403988915, // 243
-0.2902846772544625, // 244
-0.2667127574748986, // 245
-0.24298017990326418, // 246
-0.21910124015687016, // 247
-0.19509032201612872, // 248
-0.17096188876030177, // 249
-0.1467304744553624, // 250
-0.12241067519921603, // 251
-0.0980171403295605, // 252
-0.07356456359966741, // 253
-0.04906767432741809, // 254
-0.024541228522912448 // 255
};